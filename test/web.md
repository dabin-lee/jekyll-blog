---
sort: 1
---

# 웹알못

## Windows Host (호스트)란?
- hosts 파일은 DNS 서버를 사용하기 이전에 Windows에서 주로 사용하던 파일로 서버 주소를 적어 놓은 텍스트 파일.
  - 호스트 이름에 대응하는 IP 주소가 저장되어 있어서 도메인 이름 시스템(DNS)에서 주소 정보를 제공받지 않고도 서버의 위치를 찾게 해준다.


1. DNS 의 개념

```
첫번째, 우리는 브라우저 프로그램을 실행하겠죠.
두번째, 주소에 http://naver.com을 쓰고 들어갑니다.
세번째, 컴퓨터는 naver.com의 컴퓨터가 어디있는지를 찾으려고 합니다.
네번째, naver.com은 사람들이 알아보기 쉽게  만들어 놓은 주소체계입니다.
컴퓨터는 0과 1밖에 모르죠ㅠ 그래서 DNS(Domain Name Server) 라는 서버에게 물어봐요. naver.com의 ip는 뭐냐고
다섯번째, 그럼 dns에서 ip주소를 가르쳐주니다. xxx.xxx.xxx.xxx 이라고
여섯번째, 그럼다시 우리컴퓨터는 xxx.xxx.xxx.xxx ip 찾기 위해 게이트웨이를 통해 패킷을 보냅니다.
그러면 각 중간에 있는 네트워크 기기들(이를 라우터라고 합니다)이 여러가지 데이터를 통하여 결국 네이버 컴퓨터에 도착을 해요.
이 과정에는 엄청나게 많은 일들이 있습니다. 여기선 필요한 개념이 아니니 생략할게요.
일곱번째, 그럼 네이버 컴퓨터는 포트와 파라미터, 메쏘드 등을 확인하여 해당 서버가 응답을 합니다.
응답에는 네이버 메인 소스가 들어있겟죠. 이 응답이 다시 우리 컴퓨터로 들어와 우리가 주소를 쓴 브라우저에 보이게 되는 것입니다.
```

2. 호스트 파일의 역할은 무엇일까?
  - ip주소와 호스트 네임을 매칭 시키는 파일
  - dns에 불필요한 요청을 하지 않음으로써 속도가 빨라진다.

  ```
  호스트 파일을 수정할 때에는  IP주소, 호스트 이름을 적어주면 적용되고 127.0.0.1은 기본적으로 자신의 컴퓨터 서버이다.
  이를 응용하여 해커들이 해킹에도 아주 많이 응용된다. http://www.naver.com의 호스트를
  특정 해킹 페이지의 IP로 지정하게되면 우리가 http://www.naver.com 으로 접속하려 할 때
  해커들이 만든 사이트로 접속하게 되는 방식이다.
  ```

3. 정리

- ▶ 호스트파일의 역할

    - 호스트 이름에 대응하는 IP 주소가 저장되어 있어서 도메인 이름 시스템(DNS)에서 주소 정보를 제공받지 않고도 서버의 위치를 찾게 해준다.

- ▶ 호스트 파일 사용 장점

    - 인터넷 속도 향상
    - 리소스 사용을 줄임
    - 보안 문제 예방적 대처

- ▶ 호스트 파일 사용 단점

    - 사이트 방문이 차단될 수 있다
    - 페이지 내에서 부분 차단된 경우 디자인, 속도 문제

- ▶ 호스트 파일 저장 위치

    - C:\windows\system32\drivers\etc\hosts

- ▶ 호스트 파일 작성 원칙

    - 샵 기호(#)로 시작하는 줄(line)은 주석문, 개별 줄(line) 앞이나 호스트 이름 다음에 작성
    - 각 항목은 한 줄(line)로 작성
    - 항목은 IP 주소 + 호스트 이름 순서로 제한
    - 호스트 이름과 IP 주소의 간격은 최소한 1칸을 띄움
    - 호스트 이름 부분에 'IP 주소' 등록 제한 : 호스트의 IP 주소 검색이 목적. IP 주소를 이미 찾은 상태
    - 호스트 이름의 글자수는 255자로 제한
    - 프로토콜 형식 'http:', 와일드카드 문자 '*', 주소 맨끝에 사선기호 '/' 사용 제한


## Domain & IP

- ▶ Domain & IP 기본 개념

  ```
  우리가 어떤 홈페이지를 들어가기 위해서는 ip주소가 필요하다. 홈페이지를 들어가고 싶다면 ip주소 32자리를 입력하고 접속해야 한다.
  그러나 개개인이 자주 들어가는 홈페이지 ip주소를 모두 외우기에는 어려움이 따른다. 그래서 만든것이 Domain주소이다.
  우리가 알고있는 www.naver.com 처럼 ip주소를 외우기 쉽게, 보기 쉽게 번역한 주소이다.
  ```

- ▶ DNS Server
    - 우리가 주소창에 접속하고 싶은 domain 주소를 입력하면실제 ip주소를 알려주는 역할을 한다.
    - ![img_1](img/img_2.png)
    - dns 서버에 가장 위에 있는 것은 root dns 서버이다. root dns 서버는 com , org , edu , net 등 domain 주소 가장 마지막에 있는 주소의 ip를 관리한다.
    - 또한 com nds 서버는 여러개의 dns주소를 관리 한다. 우리가 알고 있는 naver , yahoo 등 com으로 끝나는 주소들은 com dns 서버가 ip를 갖고 있으며 관리한다. 관리하는 대상이 있는경우의 dns 서버를 책임 dns 서버라고 한다. (우리가 연결한 dns - rocal dns 서버)
    - rocal dns 서버는 우리가 사용하는 dns 서버를 말한다. 모든 nds서버를 사용가능하지만, 가장 가까이 위치해있는 서버를 사용하여야 통신이 빠르다.
    - 사용자가 주소창에 www.naver.com을  입력하면 네이버 홈페이지 창을 띄우는 과정까지는 다음과 같다.

      ```
      1. www.naver.com 입력
      2. 연결되어있는 dns 서버가 우연히 naver.com 이라면 바로 사용자에게 알려줄 수 있다.
      3. 그러나 그런 경우는 매우 드물기 때문에 root dns 서버에게 com dns 서버의 주소를 물어본다.
      4. root dns 서버에게 받은 com에게 찾아가 naver.com의 주소를 물어본다.
      5. com에게 받은naver.com에게 찾아가 www.naver.com의 주소를 물어본다.
      ```

    - www.naver.com의  ip주소를 알고 있는 naver.com dns 서버는 rocal dns 서버에게 주소를 알려주고 rocal nds 서버는 사용자에게 다시 알려주게 된다. 마침내 www.naver.com의 ip 주소를 얻은 사용자는 접속하여 서버에게 네이버 페이지를 불러올 수 있다.
    - 따라서 다른 사람들이 domain 주소를 통하여 내가 만든 페이지를 불러오게 하고 싶다면 해당 dns 서버에 등록을 해야한다.  이 등록과정에서 약간의 비용이 발생하게 된다.
    - https://goddaehee.tistory.com/90



## hosts 파일을 활용하여 가상도메인 활용하기
[윈도우 아파치](https://sir.kr/so_npc/32)
> 이 글은 윈도우 10 에 아파치(apache) 웹서버를 설치한 개발자를 위해 쓴 글이며, 제가 이 일을 해오면서 조금씩 알게 된 것들을 같은 문제로 고민하고 있을 개발자들을 위해서 작성하는 글입니다.
> 아파치 문서에는 나와있지만 그 문서 내용이 아직은 잘 와닿지 않는 분들에게 적합하며, 기본적인 웹서버 구성과 원리를 이해해서 좀 더 효율적인 프로젝트들을 운용하시길 바라며 쓴 글이 되겠습니다.

```
윈도우에 개발환경과 웹서버를 구축하여 사용하신다면, 내가 만든 프로젝트에 접속 할 때마다 URL 주소에 로컬호스트(localhost), 또는 127.0.0.1 을 입력해서 확인하곤 합니다. 하나의 프로젝트만 진행한다면 불편함을 느끼지 않습니다. 그러나 다수의 독립 프로젝트가 존재하거나 2차 도메인주소까지 활용해야 할 정도로 규모가 있다면, 로컬호스트만으로 관리하는 일은 너무나 힘들어집니다. 이럴 때 활용하게 되는 것이 것이 바로 가상호스트(virtual host) 입니다.

우리는 이미 이 용어를 알고 있습니다. 아파치 웹서버가 가지고 있는 기능 중 하나이기 때문입니다. 단순하게 싱글 프로젝트를 진행하시면 굳이 가상호스트를 다룰 일은 없습니다. 그냥 http 데몬 설정 파일인 httpd.conf 파일만 수정해서 쓰기 때문입니다. 다수의 프로젝트를 관리 할 때, 가상호스트 모듈을 활성화 해서 프로젝트 디렉토리를 지정하여 서비스를 구성하죠. 이때는 localhost 나 127.0.0.1뒤에 각각 다른 포트번호만 지정해주면 각각 다른 프로젝트를 동시에 진행할 수 있습니다. 이런 지식을 이미 잘 알고 있을 것입니다. 저는 처음 아파치웹서비스를 다룰 때 궁금해 했던 것이 '도메인을 사용할 수 없을까?' 였습니다. 지금 생각하면 아주 간단한 것인데, 그 당시는 이걸 몰라서 꽤 힘들어 했었거든요.

내가 로컬에 세팅한 사이트를 로컬호스트나 127.0.0.1이 아닌, 도메인을 연결하여 테스트 할 때 필요한 것이 윈도우에 있는 시스템 파일중 하나인 hosts 파일입니다. 그러나 이 것을 먼저 알아보기 전에 가상호스트를 설정하는 파일의 구성과 URL의 동작 절차를 이해해야 합니다.

아파치 웹서버는 웹서비스를 구축하기 위해 필요한 기능들을 모듈화 해서 탑재한 서버 애플리케이션 입니다. 우리가 다룰 가상호스트도 마찬가지로 하나의 모듈입니다. 가상호스트 모듈은 가상호스트 설정 파일인 httpd_vhost.conf 파일에서 제어 해야합니다. 대부분의 설정들은 httpd.conf 파일의 '축소판' 같은 것이기에 생략을 하고, 가장 기본이 되는 형식은 아래와 같습니다.
```

  ```html
  <VirtualHost [도메인/아이피/+포트]>
      DocumentRoot [프로젝트의 경로]
      ServerName [도메인주소]
  </VirtualHost>
  ```

```
아파치의 가상호스트 설정은 위에도 잠깐 말했지만 httpd.conf 의 축소판입니다. 따라서 부모의 설정이 적용되고 자기 자신의 설정도 추가로 할 수 있는 곳이죠. 여기서 우리가 주목해야할 것은 ServerName 입니다. ServerName 은 '도메인'을 의미 하고, 도메인이란 네트워크에서 식별할 수 있는 체계인 아이피주소를 좀더 인간이 알아볼 수 있도록 구성한 별칭을 의미합니다. 이것을 이해하고 계시다면 hosts 파일의 존재도 이해하기 편해집니다.

브라우저에 사이트주소를 입력했을 경우 본래대로라면,

도메인입력요청(request) > 도메인등록기관 > DNS주소 > 아이피주소 > 웹서버설정 > 디렉토리찾기 > 응답(response)

위의 과정을 거쳐 우리 브라우저에 보여주게 됩니다. 그러나, 우리는 현재 자신의 윈도우를 웹서버로 만들었기 때문에 멀리 멀리 돌아서 다시 내 컴퓨터로 오는 것은 상당히 비 효율적인 일입니다. 따라서 아이피주소와 도메인을 알고 있다면, 모든 단계를 건너띄고 직접 웹서버로 연결해주는 도구가 있는데 그게 바로 hosts 파일입니다.

마치, 물류배송업체를 이용하여 물건을 받는 것이 아니라, 내가 직접 가서 물건을 받는 것이죠.

hosts 파일의 좋은점은 '당장 도메인기관에 도메인을 등록하지 않아도 사용할 수 있다'는 점입니다. 이것이 가능한 이유는, 웹서버가 복잡하게 도메인등록기관에 검증을 받지 않고, ServerName에 등록된 이름이 일치하면 무조건 DocumentRoot를 보여주기 때문입니다.
```

![](/assets/img/3731896356_1515582617.6289.png)
- hosts 파일에 원하는 가상도메인을 세팅해서 작업하는 모습>
![](/assets/img/3731896356_1515582642.0585.png)
- httpd_vhost.conf 파일에 ServerName 부분>


## 내부접속과 외부접속의 의미

1. 웹 브라우저는 웹 페이지를 보고자 요청한 현재 컴퓨터의 IP 주소와 주소 창에 입력된  ****.com 이라는 도메인을 갖고 자신의 컴퓨터 LAN 카드를 통해 인터넷 상에서 DNS(Domain Name System) 서버를 찾게 됩니다.
2. DNS 서버를 찾게 되면 그 서버에 구축되어 있는 데이터베이스에서 ****.com 에 해당하는 IP 주소를 얻고, 그 곳에서 얻은 IP 주소로 해당하는 컴퓨터를 찾아 갑니다.
3. 찾아간 컴퓨터에 웹 서버가 설치되어 있으면 http:// www.****.com/이라고만 입력했으므로 홈 디렉터리에 있는 디폴트 파일(index.php)을 찾아 웹 서버에서 PHP 언어를 해석하여 웹페이지를 만든 후
4. 그 웹 페이지를 보고자 요청했던 컴퓨터로 다시 보내주면 웹 페이지를 받은 컴퓨터의 웹 브라우저가 보여주게 되는 것입니다.
- (이렇듯 PHP 코드는 웹 서버에서 해석하여 웹 브라우저에 보내주므로 사용자의 웹 브라우저에서는 그 PHP 소스 코드를 알 수가 없습니다.)

```note
즉, http://localhost/라고 입력했을 때는 IP 주소가 127.0.0.1로 예약되어 있어서 2, 3과정은 생략되고 곧 바로 자신의 컴퓨터 웹 서버로 가게 되기 때문에 내부접속이고,
http://localhost/를 입력해서는 외부에서 즉 다른 컴퓨터에서 웹 서버에 접속이 되는지 확인할 수가 없습니다.

[참고]
일반적으로 웹 서버에서 localhost는 IP Address 127.0.0.1(loop-back address)로 예약되어 있으며, 자신의 컴퓨터를 가리키는 가상 IP Address로써 실제 IP Address와 같은 동작을 합니다.
좀 더 쉽게 말하자면 http://localhost/는 localhost라는 도메인을 찾으러 외부 DNS 서버로 나가는 것이 아니라 127.0.0.1이라는 IP 주소를 가리키고 있는 것이므로 곧 바로 자신의 컴퓨터를 찾아가는 것입니다. loop-back address라 하는 의미를 아시겠지요?

그에 반해 http://jobdahan.dnip.net/이라고 도메인을 사용하여 입력했을 때는 위에서 설명한 것 처럼 외부로 나갔다가 다시 찾아오는 과정을 거치므로 외부접속이라는 표현을 하게 된 것입니다.
이러한 흐름의 개념은 서버 운영 뿐만이 아니라 웹 프로그래밍할 때 알아야 되는 기본 개념이므로 잘 이해하고 계시기 바랍니다
```

- 출처: https://prometheus.tistory.com

## localhost 설정

### 1. localhost 설정된 폴더 공유
#### 1) 윈도우 폴더 공유에 대한 이해

```note
사설 망안에서 공유가 되는 공유폴더는 랜선의 최대 속도를 내주고 있기 때문에<br>
(이론적으로. 지원되는 공유기나 랜선의 품질에 따라 차이가 있습니다.) 실제로 사용되는 경우가 다양합니다.
일반적으로 회사에서 데이터들을 공유하기 위한 목적이라든지, 개인적으로 파일은 안전하게 백업하기 위해서 <br>
공유폴더를 사용하고 아니면 용량상의 문제로 디스크 용량이 큰 컴퓨터에 공유폴더를 걸어 놓고 파일 서버의 용도로 자유롭게 사용하기 위해 공유 폴더를 만들기도 합니다.
```
  - 공유 폴더의 정확한 명칭은 SMB (Server Massage Block, SMB) 라고 한다.
  - NetBIOS(Network Basic Input Output System)라는 데이터 통신방식을 사용하여 **각 컴퓨터 간의 폴더를 동시에 사용하는 것에 목적**이다.
  - 하지만, 공유폴더 자체를 누구나 접속가능한 상태(열린 공유 폴더)로 만들어 놓아서 보안에 취약한 경우가 발생한다.


#### 2) 공유 폴더 사용하기 위한 설정
  - 만들어진 공유폴더 -> 속성 -> 공유
    - ![공유와 고급 공유](/assets/img/20200917_102141.png)
      - 공유나 고급 공유시에 암호 제한을 두지 않고 모든 사용자들이 자유롭게 접근할 수 있도록 하려면 Everyone 의 권한을 따로 설정한다. 그리고 두가지 공유 방법중 되도록이면 고급 공유로 하는 것을 추천.

    - [일반 공유 설정]
      - 1) 공유됨으로 되어있는 것을 확인
      - 2) 사용자(또는 Everyone)별로 권한을 부여 해야 다른 컴퓨터에서 접속시 네트워크 맵에 목록이 보여지게 된다.
      - 3) 권한을 부여할 계정 선택
      - 4) 부여한 계정의 권한 수준 선택

    - [고급공유 설정]
      - 1) 선택한 폴더 공유를 체크
      - 2) 권한 부분 설정
        - 고급 공유 방식은 위의 단순한 공유 설정과는 달리 네트워크 상의 경로가 `\\서버\공유` 폴더 식으로 컴퓨터의 바로 하위에 공유 폴더가 자리하게 된다.
      - 3) 권한 -> 사용자를 추가 (만약 계정별로 접속하지 않고 아무나 접속가능한 공유폴더로 만들려면 **Everyone의 권한**을 조정)
  - 제대로 권한이 안되는 것 같으면 기본 공유 설정에서 권한을 고급 설정과 똑같이 부여
  - 출처: https://studyforus.tistory.com/82 [Study For Us]

### 2. 인바운드 설정
  - https://m.blog.naver.com/zeboll/221134011377
  - 인바운드 규칙 : 자신의 컴퓨터로 네트워크 데이터가 들어올 수 있도록 규칙을 정의.
    - 내부를 향한다.
    - 서버 내부로 들어온다.
    - 서버 또는 네트워크 내부로 진입
    - 클라이언트 --> 서버
    - 클라이언트가 업로드할 때

  - 인바운드 설정
    - 1) 제어판 - Windows 방화벽
    - 2) 왼쪽 메뉴에서 고급설정
    - 3) 왼쪽 메뉴에서 인바운드 규칙
    - 4) 이제 포트를 개방하는 설정
      - 4-1) 오른쪽 새 규칙
      - 4-2) 포트 선택
      - 4-3) TCP(T) 선택, 특정 로컬 포트(S) 선택, 포트 번호를 입력
      - 4-4) 연결 허용(A)
      - 4-5) 기본으로 3가지를 확인
      - 4-6) 이름 혹은 설명 기입
    - 5) 포트 개방 완료!

```tip
PC에서 http://localhost:7036/나머지 경로.../ 접속하면 경로가 나옴.
하지만 외부 망에서 localhost로 접속하며 절대 접속할 수 없다.
외부 접속을 하기 위해서는 접속을 허용한 PC의 IP주소를 확인 해야 한다.
```
  - 외부접속 설정
  - cmmand -> ipconfig -> ipv4확인
  - 같은 와이파이에 접속한 후 `http:// (자신의 IPv4 주소) /나머지 경로.../ `
  - https://kcmschool.com/77



## 웹 서버 & WAS

### 웹 서버 (Web Server)
  - 클라이언트가 서버에 페이지 요청을 하면 요청을 받아 정적 컨텐츠(.html, .png, .css등)를 제공하는 서버
  - 클라이언트에서 요청이 올 때 가장 앞에서 요청에 대한 처리를 한다.
  - 클라이언트의 요청을 기다리고 요청에 대한 데이터를 만들어서 응답하는 역할 (정적 데이터)

```note
정적 컨텐츠를 요청(request)했나?

1. 정적 컨텐츠구나! 내가 제공해줄게 => .html, .png 등 응답(response)
2. 정적 컨텐츠가 아니구나.. 웹서버에서 간단히 처리 못하겠군. WAS에게 처리를 부탁해야겠다! => 결국 WAS가 처리해준 컨텐츠를 받은 웹서버는 응답(response)을 해줌
대표 : Apache, nginx
```

### WAS (Web Application Server)
  - 동적 컨텐츠를 제공하기 위해 만들어진 애플리케이션 서버 (DB조회, 로직처리가 요구되는 컨텐츠)
  - JSP, Servlet 구동 환경 제공
  - 컨테이너, 웹컨테이너, 서블릿 컨테이너라고도 부름
    - Container란 JSP, Servlet을 실행시킬 수 있는 소프트웨어를 말한다.
    - 서버사이드 스크립트란? https://wikidocs.net/22322
  - 즉, WAS는 JSP, Servlet 구동 환경을 제공한다.


  - [동작 프로세스]
    - 1) 웹서버로부터 요청이 오면 컨테이너가 받아서 처리
    - 2) 컨테이너는 web.xml을 참조하여 해당 서블릿에 대한 쓰레드 생성하고 httpServletRequest와 httpServletResponse 객체를 생성하여 전달한다.
    - 3) 컨테이너는 서블릿을 호출한다.
    - 4) 호출된 서블릿의 작업을 담당하게 된 쓰레드(2번에서 만든 쓰레드)는 doPost()또는 doGet()을 호출한다.
    - 5) 호출된 doPost(), doGet() 메소드는 생성된 동적 페이지를 Response객체에 담아 컨테이너에 전달한다.
    - 6) 컨테이너는 전달받은 Response객체를 HTTPResponse형태로 바꿔 웹서버에 전달하고 생성되었던 쓰레드를 종료하고 httpServletRequest, httpServletResponse 객체를 소멸시킨다.

  - 대표 : Tomcat, Jeus, JBoss

### 웹 서버와 WAS 차이
![](/assets/img/webserver-vs-was1.png/img/jss.png)

- Web Server?
  - Web Server를 통해 정적인 파일들을 Application Server까지 가지 않고 앞단에서 빠르게 보내줄 수 있다.
  - 따라서 Web Server에서는 정적 컨텐츠만 처리하도록 기능을 분배하여 서버의 부담을 줄일 수 있다.

- WAS?
  - 이때, Web Server만을 이용한다면 사용자가 원하는 요청에 대한 결과값을 모두 미리 만들어 놓고 서비스를 해야 한다.
  - 따라서 WAS를 통해 요청에 맞는 데이터를 DB에서 가져와서 비즈니스 로직에 맞게 그때 그때 결과를 만들어서 제공함으로써 자원을 효율적으로 사용할 수 있다.

- 동적 컨텐츠 처리를 수행 가능한가 아닌가?
  - 기능 분리로 서버 부하 방지
  - 자원 이용의 효율성 및 장애 극복, 배포 및 유지보수의 편의성 을 위해 Web Server와 WAS를 분리
  - https://gmlwjd9405.github.io/2018/10/27/webserver-vs-was.html

## web & it 개발용어
파싱
크롤링(crawling) 이해 및 기본, 크롤링(crawling) 이란?

Web상에 존재하는 Contents를 수집하는 작업 (프로그래밍으로 자동화 가능)
HTML 페이지를 가져와서, HTML/CSS등을 파싱하고, 필요한 데이터만 추출하는 기법
Open API(Rest API)를 제공하는 서비스에 Open API를 호출해서, 받은 데이터 중 필요한 데이터만 추출하는 기법
Selenium등 브라우저를 프로그래밍으로 조작해서, 필요한 데이터만 추출하는 기법